
declare void printf(char* str, int i);

struct vec3 {
    float x;
    float y; 
    float z;
}

struct Transform {
    vec3 pos;
}

struct Entity {
    Transform trans;
}

Entity* createEntity(int x, int z) {
    let e = alloc Entity;
    // e.trans.pos.x = x;
    // e.trans.pos.z = z;
    return e;
}

int get_Number(int i) {
    return i * 2;
}

Entity entity;

int main() {
    printf("Testing deref.%d\n", 0);

    let n = get_Number(2);
    printf("number = %d\n", n);

    Entity e;
    let ep = e;
    entity = e;
    let x = entity.trans.pos.x;

    let t = createEntity(0, 12).trans;
    let f = t.pos;

    vec3* vpp = alloc vec3;
    let h = (vpp + 2).x;

    // TODO: fix tokenizing of numbers to allow for this:
    // let dwa = 12.name;

    return 0;
}